<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>PasteIt - Scholarly HTML</title>
    <link rel="stylesheet" href="https://w3c.github.io/scholarly-html/css/scholarly.min.css">
    <link rel="shortcut icon" type="image/svg" href="/img/logo.svg">
    <style>
        p {
            text-indent: 40px;
            text-align: justify;
        }

        .screenshot {
            width: 860px;
        }

    </style>
</head>
<body prefix="schema: http://schema.org"
      style="font-family: 'Times New Roman', Times, serif; font-size: 15pt;"
      itemscope itemtype="http://schema.org/WebPage"
>
<header>
    <h1 itemprop="name">Paste It</h1>
</header>
<div role="contentinfo">
    <ol role="directory">
        <li>
            <a href="#abstract">
                <span>1. </span>Abstract
            </a>
        </li>
        <li>
            <a href="#introducere">
                <span>2. </span>Introducere
            </a>
            <ol>
                <li>
                    <a href="#scop">2.1 Scop</a>
                </li>
                <li>
                    <a href="#conventii">2.2 Convenții document</a>
                </li>
            </ol>
        </li>
        <li>
            <a href="#overall-description">
                <span>3. </span> Tehnologii utilizate
            </a>
        </li>


        <li>
            <a href="#arhitectura">4. Arhitectura aplicatiei</a>
        </li>


        <li>
            <a href="#structura">5. Structura proiectului</a>
            <ol>
                <li>
                    <a href="#dir-public">5.1 Directorul public</a>
                </li>

                <li>
                    <a href="#dir-core">5.2 Directorul core</a>
                </li>

                <li>
                    <a href="#dir-resoureces">5.3 Directorul resources</a>
                </li>

                <li>
                    <a href="#dir-routes">5.4 Directorul routes</a>
                </li>

                <li>
                    <a href="#dir-migrations">5.5 Directorul migrations</a>
                </li>
                <li>
                    <a href="#dir-middlewares">5.6 Directorul middlewares</a>
                </li>
                <li>
                    <a href="#dir-controllers">5.7 Directorul controller si models</a>
                </li>
                <li>
                    <a href="#dir-vendor">5.8 Directorul vendor</a>
                </li>
            </ol>
        </li>


        <li>
            <a href="#pasi">
                6. Pasi intermediari in realizarea aplicatiei
            </a>

            <ol>
                <li>
                    <a href="#cerinta">6.1 Intelegerea cerintelor clientului</a>
                </li>
                <li>
                    <a href="#use-case">6.2 Crearea diagramelor Use-case</a>
                </li>
                <li>
                    <a href="#interfata">6.3 Realizare interfetei grafice cu utilizatorul</a>
                </li>
                <li>
                    <a href="#c4">6.4  Realizarea diagramelor C4</a>
                </li>
                <li>
                    <a href="#implementare">6.5  Implementarea functionalitatilor aplicatiei</a>
                </li>
            </ol>
        </li>


        <li>
            <a href="#concepte">
                7. Concepte folosite in realizarea PASTE IT
            </a>
            <ol>
                <li>
                    <a href="#ioc">
                        7.1 IoC Container
                    </a>
                </li>
                <li>
                    <a href="#routing">
                        7.2 Sistemul de routing
                    </a>
                </li>
                <li>
                    <a href="#validare">
                        7.3 Modalitatea de validare a datelor
                    </a>
                </li>

                <li>
                    <a href="#sesiune">
                        7.4  Modalitatea de gestiune a sesiunii curente
                    </a>
                </li>
                <li>
                    <a href="#db">
                        7.5 Procedeul de gestiune a bazei de date
                    </a>
                </li>
                <li>
                    <a href="#middleware">
                        7.6 Middlewares
                    </a>
                </li>
                <li>
                    <a href="#formulare">
                        7.7 Formulare
                    </a>
                </li>
                <li>
                    <a href="#ajax">
                        7.8 Apeluri AJAX
                    </a>
                </li>
                <li>
                    <a href="#sass">
                        7.9 Syntactically Awesome Style Sheet
                    </a>
                </li>
                <li><a href="#highlight">
                    7.10 Syntax Highlight
                </a></li>
            </ol>
        </li>

        <li>
            <a href="#referinte">
                <span>5. </span>Referinţe
            </a>
        </li>
    </ol>

    <section typeof="sa:AuthorsList" itemscope itemprop="authors">

        <h2>Autori</h2>
        <ol>
            <li property="schema:author" typeof="sa:ContributorRole" itemscope itemtype="https://schema.org/Person"
                itemprop="author">
                    <span typeof="schema:Person" resource="https://claudiupopa.ro/">
                        <meta property="schema:givenName" content="Claudiu">
                        <meta property="schema:familyName" content="Popa">
                        <span property="schema:name" itemprop="name">Popa Claudiu</span>
                    </span>
                <ul>
                    <li property="schema:roleContactPoint" typeof="schema:ContactPoint" itemscope
                        itemtype="https://schema.org/ContactPoint">
                        <a href="mailto:claudiu.popa@info.uaic.ro"
                           property="schema:email" itemprop="email">claudiu.popa@info.uaic.ro</a>
                    </li>
                </ul>
            </li>
            <li property="schema:author" typeof="sa:ContributorRole" itemscope itemtype="https://schema.org/Person"
                itemprop="author">
                    <span typeof="schema:Person" resource="https://github.com/RataCristinaIulia">
                        <meta property="schema:givenName" content="Iulia">
                        <meta property="schema:additionalName" content="Cristina">
                        <meta property="schema:familyName" content="Rata">
                        <span property="schema:name" itemprop="name">Rață Cristina Iulia</span>
                    </span>
                <ul>
                    <li property="schema:roleContactPoint" typeof="schema:ContactPoint" itemscope
                        itemtype="https://schema.org/ContactPoint">
                        <a href="mailto:cristina.rata@info.uaic.ro"
                           property="schema:email" itemprop="email">cristina.rata@info.uaic.ro</a>
                    </li>
                </ul>
            </li>
            <li property="schema:author" typeof="sa:ContributorRole" itemscope itemtype="https://schema.org/Person"
                itemprop="author">
                    <span typeof="schema:Person" resource="https://github.com/SanduVAdelin">
                        <meta property="schema:givenName" content="Adelin">
                        <meta property="schema:additionalName" content="Viorel">
                        <meta property="schema:familyName" content="Sandu">
                        <span property="schema:name" itemprop="name">Sandu Viorel Adelin</span>
                    </span>
                <ul>
                    <li property="schema:roleContactPoint" typeof="schema:ContactPoint" itemscope
                        itemtype="https://schema.org/ContactPoint">
                        <a href="mailto:viorel.sandu@info.uaic.ro"
                           property="schema:email" itemprop="email">viorel.sandu@info.uaic.ro</a>
                    </li>
                </ul>
            </li>
        </ol>
        <dl>
            <dt>Licence</dt>
            <dd>
                <a itemprop="license" rel="license" href="https://github.com/Klaus330/PasteIt/blob/master/LICENSE">GNU
                    GENERAL PUBLIC LICENSE</a>
            </dd>

            <dt>Erori și recomandări</dt>
            <dd>
                <a href="https://docs.google.com/document/d/1kW5WO_tjzeUwpeDiJludJ8oN4C0CZfaCgZPr5dPiXrY/edit?usp=sharing">Erori/Recomandări</a>
            </dd>
        </dl>
    </section>

    <section typeof="sa:Abstract" id="abstract" role="doc-abstract" itemscope="" itemtype="https://schema.org/Article">
        <h2><span>1. </span>Abstract</h2>
        <p itemprop="description">
            Acest document are ca scop oferirea unui ghid simplu si concis de utilizare a aplicatiei noastre.
            Ilustratiile prezentate ajuta la intelegerea completa a conceptelor folosite in realizarea proiectului
            PasteIt.
        </p>
    </section>

    <section typeof="sa:ScholarlyArticle" id="introducere" role="doc-introduction" itemscope=""
             itemtype="https://schema.org/Article">
        <h2><span>2. </span>Introducere</h2>
        <p itemprop="description">
            PasteIt este o platformă unde poți stoca online orice text pentru a fi ușor de distribuit.
            Site-ul este destinat în mare parte programatorilor care doresc să împărtășeasca bucăți de
            cod sau informații de configurare (de servere, de baze de date), dar oricine se poate folosi
            de funcționalitățile aplicației.
        </p>

        <h3 id="scop"><span>2.1</span> Scop</h3>
        <p>
            Scopul documentului este de a veni in ajutorul noilor utilizatori care doresc sa interactioneze cu aplicatia
            noastra web.
            Cu ajutorul ilustratiilor grafice procesul de invatare a conceptelor din aplicatie devine facil.
            De asemenea, raportul detaliaza o descriere ampla a scenariilor care pot surveni in timpul folosirii
            aplicatiei.
        </p>


        <h3 id="conventii"><span>2.2</span> Convenții document</h3>
        <ul>
            <li>"Paste"- reprezinta o postare de cod a unui utilizator pe platforma</li>
            <li>"Burn After Read"- proprietatea unui paste de a se autodistruge dupa prima vizualizare</li>
            <li>"Exposure"- proprietatea de a fi vizibil oricarui utilizator sau privat</li>
            <li>"Syntax"- limbajul in care este scris blocul de cod</li>
            <li>"Role: viewer/editor"- rolurile pe care le poate avea un utilizator asupra unei postari</li>
        </ul>

    </section>


    <section typeof="sa:MaterialsAndMethods" id="overall-description" role="doc-chapter">

        <h2 id="tehnologii"><span>3.</span> Tehnologii utilizate</h2>

        <p>
            Pentru acest proiect au fost utilizate urmatoarele tehnologii web: PHP, SCSS, JavaScript, Ajax. Toate aceste
            au fost folosite pentru a face experienta utilizatorului cu aplicatia mult mai prietenoasa.
        </p>


        <h2 id="arhitectura"><span>4.</span> Arhitectura aplicatiei</h2>
        <p>
            Pentru acest proiect am optat pentru construirea unei arhitecturi de tipul MVC, datorita modularitatii pe
            care acest
            model o ofera.
        </p>


        <h2 id="structura"><span>5.</span> Structura proiectului</h2>
        <p>
            Pentru o organizare mai buna, componenentele proiectului au fost impartite in mai multe directoare, fiecare
            avand specificul sau.
        </p>

        <h3 id="dir-public"><span>5.1.</span> Directorul public</h3>
        <p>
            Acest director este entry point-ul aplicatiei noastre. Aici se afla toate informatiile necesare pentru
            afisarea interfetei utilizatorului, cum ar fi: fisierele css responsabile cu stilul paginilor, fisierele
            javascript responsabile cu dinamicitatea paginilor, directorul imagini in care se afla toate iconitele
            si imaginile care apar in documentatia site-ului, faviconurile site-ului si punctul de intrare in aplicatie
            reprezentat de fisierul index.php.
        </p>


        <h3 id="dir-core"><span>5.2</span> Directorul core</h3>
        <p>
            In acest director se afla nucleul aplicatiei noastre, aici putem gasi clase precum: Application, Router,
            Config
            Session, Validator etc. Toate aceste clase formeaza baza aplicatiei noastre. Vom detalia fiecare clasa din
            acest director
            mai tarziu in acest raport.
        </p>

        <h3 id="dir-resources"><span>5.3</span> Directorul resources</h3>
        <p>
            Acest director contine toate informatiile care creaza view-urile care sunt randate pentru a crea interfata
            utilizatorului. Toate fisierele scss care urmeaza a fi compilate pentru a reda stilul site-ului se afla
            aici,
            de asemenea si toate template-urile(view-urile) html se afla aici.
        </p>

        <h3 id="dir-routes"><span>5.4</span> Directorul routes</h3>
        <p>
            Acest director contine un fisier cu toate rutele accesibile in aplicatie.
        </p>

        <h3 id="dir-migrations"><span>5.5.</span> Directorul migrations</h3>
        <p>
            Acest director contine toate fisierele care se ocupa cu migratiile catre baza de date.
            El contine clase care realizeaza diverse operatii DML asupra bazei de date la care este conectata aplicatia,
            precum: crearea tabelului de utilizatori, crearea tabelului responsabil cu postarile de pe site etc.
        </p>


        <h3 id="dir-middleware"><span>5.6</span> Directorul middlewares</h3>
        <p>
            Am considerat ca pentru o restrictionare eficienta si usoara a accesului utilizatorilor neautorizati pe
            anumite pagini ale site-ului este bine sa folosim Middlewares. Astfel ca in acest director stocam toate
            middleware-urile utilizate.
        </p>

        <h3 id="dir-controller"><span>5.7</span> Directoarele controllers si models</h3>
        <p>
            Deoarece arhitectura aplicatiei este un MVC, in aceste directoare pastram toate modele si controllerele
            aplicatiei.
        </p>


        <h3 id="id-vendor"><span>5.8</span> Directorul vendor</h3>
        <p>
            Pentru a avea un cod bine organizat si usor extensibil am ales folosirea namespace-urilor pentru clase.
            Prin urmare, in acest director se afla fisierul care realizeaza incarcarea automata a claselor.
        </p>

    </section>


    <section typeof="sa:MaterialsAndMethods">
        <h2 id="pasi"><span>6.</span> Pasi intermediari in realizarea aplicatiei </h2>

        <h3 id="cerinte"><span>6.1</span> Intelegerea cerintelor clientului</h3>
        <p>
            Primul pas in realizarea acestui proiect a fost intelegerea cerintelor clientului, notand si discutand toate
            viitoarele caracteristicii pe care aplicatia urma sa le indeplineasca.
        </p>


        <h3 id="use-case"><span>6.2</span> Crearea diagramelor Use-case</h3>
        <p>
            Pentru intelegerea mai rapida a flowurilor actiunilor pe care un utilizator le poate face in aplicatie, am
            recurs
            la realizarea diagramelor use-case care ne-au ajutat sa clarificam anumite concepte, sa stabilim un
            vocabular comun intre membrii echipei
            si sa definim foarte bine atributiile si drepturile pe care utilizatorul le are in aplicatie.
            <img class="screenshot" src="img/scholarly/usecase-register.png" alt="usecase-register">
            <img class="screenshot" src="img/scholarly/usecase-editor.png" alt="usecase-editor">
            <img class="screenshot" src="img/scholarly/usecase-creaza-postare.png" alt="usecase-postare1">
            <img class="screenshot" src="img/scholarly/usecase-creaza-postare2.png" alt="usecase-postare2">
            <img class="screenshot" src="img/scholarly/usecase-editor.png" alt="usecase-editor">
            <img class="screenshot" src="img/scholarly/usecase-vizualizare-postare.png" alt="usecase-vizualizare">
        </p>

        <h3 id="interfata"><span>6.3</span> Realizrea interfetei grafice cu utilizatorul</h3>
        <p>
            Odata stabilit flow-ul actiunilor din aplicatie urmatorul pas a fost crearea interfetei grafice a site-ului.
            Pentru acest task am utilizat urmatoarele tehnologii web: HTML, SCSS si Javascript, pentru ca aplicatia
            noastra sa poata
            rula pe orice browser modern care are javascript activat.
        </p>

        <h3 id="c4"><span>6.4</span> Realizarea diagramelor C4</h3>
        <p>
            Cu interfata grafica stabilita, urmatorul pas a fost sa realizam diagramele C4 care ne-au ajutat in
            stabilirea componentelor externe si interne ale aplicatiei, stabilirea containerelor principale din
            aplicatia noastra,
            </p>
            <img class="screenshot" src="img/scholarly/c1.png" alt="c1" style="width: 300px;">
            <img class="screenshot" src="img/scholarly/c2.png" alt="c2" style="width: 300px;">
            <img class="screenshot" src="img/scholarly/c3.png" alt="c3" style="width: 800px;">
        <p>
            cat si stabilirea relatiilor din clase prin intermediul diagramelor de clase.
            <img class="screenshot" src="img/scholarly/clase-app.png" alt="clase-app">
            <img class="screenshot" src="img/scholarly/clase-router.png" alt="clase-router">
            <img class="screenshot" src="img/scholarly/clase-controllers.png" alt="clase-controllers">
            <img class="screenshot" src="img/scholarly/clase-db.png" alt="clase-db">
        </p>


        <h3 id="implementari "><span>6.5</span> Implementarea functionalitatilor aplicatiei</h3>
        <p>
            Avand toate conceptele bine intarite in minte, urmatorul pas a fost implementarea tuturor functionalitatilor
            pe care aplicatia noastra le ofera.
        </p>

    </section>


    <section typeof="sa:MaterialsAndMethods">
        <h2 id="concepte"><span>7.</span> Concepte folosite in realizarea PASTE IT</h2>

        <h3 id="ioc"><span>7.1</span> IoC Container</h3>
        <p>
            Deoarece am dorit sa evitam cazul in care clasa Application sa ajunga un god object, am decis ca
            aceasta va implementa un Inversion of Control Container. Modalitatea prin care acesta lucreaza este
            urmatoarea:
        <ol>
            <li>
                Exista doua array-uri instances care stocheaza instante ale claselor si bindings care stocheaza legaturi
                intre numele unei clase
                si implementarile lor care urmeaza sa fie instantiate la un moment dat.
            </li>
            <li>
                Aceste array-uri sunt populate folosind cele doua metode instance si binding
            </li>
            <li>
                Modalitatea prin care o clasa este rezolvata de catre ioc Container se afla in metoda
                make din clasa Application. Logica acestei metode este urmatoarea: functia mai intai verifica
                daca clasa ceruta se afla in array-ul instances in caz afirmativ o returneaza, atfel continua cautarea
                in array-ul bindings, in caz afirmativ instantiaza clasa si o returneaza, altfel incearca sa faca
                autoload clasei cerute.
            </li>
            <li>
                Componenta de inversion of control din acest container vine atunci cand avem o clasa al carei
                constructor
                necesita alte clase ca parametrii. In acest caz, Containerul va incerca sa instantieze mai intai clasele
                necesare si sa
                le paseze ca parametru clasei dorite, dupa care va returna instanta acesteia.
            </li>
        </ol>
        </p>

        <h3 id="routing"><span>7.2</span> Sistemul de routing</h3>
        <p>
            Sistemul de routing realizat foloseste urmatoarele clase: Router, Route, Request, Response. Clasa router
            este cea
            care se ocupa cu directionarea traficului pe site, aceasta stabiliste care sunt rutele care exista pe site
            si
            le rezolvai in consecinta. Clasa Route contine informatii referitoare la o ruta precum: url-ul la care se
            regaseste, ce controller este responsabil de rezolvarea ei, cat si care este verbul http la care se aplica.
        </p>
        <p>
            Clasa Request reprezinta o mapare a variabilei superglobale $_REQUEST din PHP si contine diverse functii
            care
            eficientizeaza lucrul cu datele requesturilor facute de router. Iar in final, clasa Response se ocupa cu
            setarea informatiilor de raspuns(status code etc.) pentru un request al userului.
        </p>
        <p>
            Rutele sunt declarate in fisierul web.php din folderul routes al proiectului.
        </p>

        <blockquote>
            <pre>
                <code>
Route::get('/pastes', "PasteController@index");
Route::post('/pastes', "PasteController@store");
Route::post("/pastes/unlock-paste", "PasteController@unlockPaste");
Route::post("/pastes/burn","PasteController@validateBurnAfterRead");

Route::regex("/\/pastes\/locked-paste\/[a-zA-Z0-9]+/","PasteController@lockedPaste","get");
Route::regex("/\/pastes\/burn-after-read\/[a-zA-Z0-9]+/","PasteController@burnAfterRead","get");
                </code>
            </pre>
        </blockquote>

        <h3 id="validare"><span>7.3</span> Modalitatea de validare a datelor</h3>
        <p>
            Clasa Validator este cea care este responsabila de validarea inputurilor primite de la utilizatori. Aceasta
            contine
            un set de reguli predefinite (required, email, confirmation, min, max) pe care clasa le foloseste ca sa
            valideze
            datele.
        </p>

        <blockquote>
            <pre>
                <code>
public const RULE_REQUIRED = 'required';
public const RULE_EMAIL = 'email';
public const RULE_UNIQUE = 'unique';
public const RULE_MATCH = 'match';
public const RULE_MIN = 'min';
public const RULE_MAX = 'min';

---------------------------------------------------------------------------------------------------------------

public function rules()
{
    return [
        'username' => [Validator::RULE_REQUIRED],
        'email' => [Validator::RULE_REQUIRED, Validator::RULE_EMAIL, [Validator::RULE_UNIQUE, 'class' => $this]],
        'password' => [Validator::RULE_REQUIRED, [Validator::RULE_MIN, 'min' => 6]],
        'confirm_password' => [Validator::RULE_REQUIRED, [Validator::RULE_MATCH, 'match' => 'password']]
    ];
}

                </code>
            </pre>
        </blockquote>


        <h3 id="sesiune"><span>7.4</span> Modalitatea de gestiune a sesiunii curente</h3>
        <p>
            Pentru gestionarea sesinii curente am creat clasa Session care mapeaza variabila superglobala $_SESSION si
            adauga o interfata mai prietenoasa pentru lucrul cu aceasta variabila. De asemenea, am adaugat si conceptul
            de
            "flash message" care adauga o variabila in sesiune pentru o scurta perioada de timp. Este folosit adesea
            pentru
            a afisa mesaje de succes/insucces ale unor operatii.
        </p>
        <p>
            Clasa Application contine o instanta a sesiunii, in array-ul instances, pe care o foloseste in lucrul cu
            utilizatorii.
        </p>


        <h3 id="db"><span>7.5</span> Procedeul de gestiune a bazei de date</h3>
        <p>
            Pentru lucrul cu o baza de date am optat pentru folosirea unei baze date MySQL, datorita suportului
            oferit de catre limbajul PHP. Conexiunea cu aceasta se realizeaza cu ajutorul clasei PDO, care ofera suport
            nativ pentru aceasta operatie.
        <p>
            De asemenea in realizarea tabelelor am optat pentru crearea unor migratii care au ca scop gestionarea
            operatiilor
            DML ce urmeaza a fi efectuate asupra bazei MySQL. Aceste fisiere pot fi gasite in directorul migrations al
            proiectului.
        </p>
        <p>
            In plus, pentru emularea primei componente din modelul arhitectural MVC, modelul, am realizat un ORM(Object
            Relational Mapping)
            care gestioneaza toate operatiile DDL efectuate de aplicatia web in baza de date. Pentru aceasta, am creat
            clasa abstracta DbModel, care este mai apoi extinsa de toate clasele ce reprezinta entitati in aplicatia
            noastra (Paste,
            User, Syntax etc.).
        </p>
        <p>
            Aceasta contine functii generice precum: insert, save, latest, find, findOne, hasOne, belongsTo, hasMany
            etc., care induc scrierea
            de cod mai curat si usor de inteles de catre programatori.
        </p>

        <h3 id="middleware"><span>7.6</span> Middlewares</h3>
        <p>
            Mecanismul middleware ofera o modalitate eficienta de inspectare si filtrare a cererilor HTTP care intra in
            aplicatia noastra. Spre exemplu, aplicatia noastra contine un middleware care restrictioneaza accesul
            utilizatorilor neautentificati
            pe pagina "My pastes".
        </p>
        <p>
            Pentru a crea un middleware este nevoie sa creem o clasa in directorul middlewares care sa
            extinda clasa abstracta Middleware. Aceasta va fi obligata sa implementeze functia execute, functie care
            va fi apelata la momentul requestului.
        </p>
        <p>
            Pentru a face implementarea este nevoie ca in constructorul controllerului, in care se afla metodele
            rutelor care dorim sa fie filtrate, sa fie inregistrat un middleware ca in exemplul de mai jos:

        </p>

        <blockquote>
                <pre>
                    <code>
public function __construct()
{
    $this->registerMiddleware(new CheckIfAdmin());
}

                    </code>
                </pre>
        </blockquote>

        <h3 id="formulare"><span>7.7</span> Formulare</h3>
        <p>
            In vederea utilizarii formularelor pentru diverse cereri catre server, am creat clase ajutatoare care
            abstractizeaza procesul de creare, validare si istoricul unui formular. Acestea se regasesc in directorul
            forms.
        </p>
        <p>
            Clasa Form reprezinta containerul in care vor fi adaugate toate campurile formularului. Aceasta se ocupa cu
            :
            memorarea metodei si rutei catre care se va face cererea, adaugarea campurilor precum textarea, input,
            button si
            afisarea tuturor componentelor pe ecran.
        </p>
        <p>
            Clasele Textarea si InputField sunt subclase ale abstractizarii BaseField, ce reprezinta implementari
            concrete
            ale conceptelor intalnite.
        </p>
        <p>
            Mai exista si clasa Button care genereaza butonul ce va fi folosit pentru trimiterea cererii formularului
            catre server.
        </p>

        <blockquote>
            <pre>
                <code>
&lt;?php $form = \app\forms\Form::begin('/register', "POST", "register-form simple-form") ?&gt;
    &lt;?= $form->inputField($model, 'username') ?&gt;
    &lt;?= $form->inputField($model, "email")->emailField() ?&gt;
    &lt;?= $form->inputField($model,"password")->passwordField() ?&gt;
    &lt;?= $form->inputField($model, 'confirm_password')->passwordField() ?&gt;
    &lt;?= $form->submitButton('Register', 'form-group login-buttons', 'btn btn-primary') ?&gt;
&lt;?php \app\forms\Form::end() ?&gt;
            </code>
            </pre>
        </blockquote>

        <h3 id="ajax"><span>7.8</span> Apeluri AJAX</h3>
        <p>
            Pentru a imbunatati experienta utilizatorului cu aplicatia, am utilizat apeluri AJAX care gestioneaza
            cereri importante catre server precum: oferirea de roluri altori utilizatori asupra unui paste, cresterea
            numarului de vizualizari ale unui paste etc. . Un exemplu notabil pentru aceasta sectiune urmatorul block de
            cod:
        <blockquote>
        <pre>
            <code>
let request = new XMLHttpRequest();
let url = '/paste/add-editor/<?= $paste->id ?>';
request.open("POST", url, true);
request.responseType = "json";

let payload = new FormData();
payload.append("username", input.value);
payload.append("role", roleSelect.value);


request.onreadystatechange = function () {
if (this.readyState === 4 && this.status === 200) {
    modalTitle.innerText = request.response["message"];
    input.value = "";
    modal.style.display = "flex";
    error.innerText = "";
    return;
}

error.innerText = request.response["errors"]["username"];
};
request.send(payload);
            </code>
        </pre>
        </blockquote>
        </p><p>
        Aici se realizeaza operatiunea de oferire de rol unui anumit user pentru o postare de catre detinatorul acesteia.
        Observam ca pentru initierea apelului formulam un nou XMLHttpRequest cu care descriem o conexiune de tip POST
        asupra unui url specificat. Setam tipul raspunsului sa fie JSON, iar apoi construim payload-ul care urmeaza sa fie
        trimis catre server. In functia atribuita lui onreadystatechange, verificam raspunsul primit si declansam un  modal
        adecvat acestuia. Apoi trimitem requestul catre server folosind functia send.
        </p>

        <h3 id="sass"><span>7.9</span> Syntactically Awesome Style Sheet</h3>
        <p>
            Pentru stilizarea paginilor am recurs la utilizarea tehnologiei SASS, care ofera o modalitate mai
            usoara de a scrie cod CSS. Organizarea fisierelor scss am facut-o dupa unul din patternurile recomandate in
            documentatia aflata pe site-ul sass.com si anume patternul 7-1. Astfel ca, fisierel au fost impartite in 7 directoare
            diferite fiecare avand un rol bine stabilit (component, page, layout etc.), dupa care au fost incluse toate in
            fisierul ce va urma a fi compilat si transformat intr-un fisier .css, app.scss.
        </p>


        <h3 id="highlight"><span>7.10</span> Syntax Highlight</h3>
        <p>
            In ceea ce priveste modul de afisare a codului publicat de utilizatori, am creat prin intermediul limbajului
            Javascript un syntax highlighter care se foloseste de un set de expresii regulate, specifice limbajului de
            programare specificat in postare, pentru a colora sintaxa codului de pe site in momentul incarcarii acestuia pe pagina.

            <blockquote>
        <pre>
            <code>
let pattern ={
{
    name: 'backquote',
    match: /^(\`[^\`]*`)/
}, {
    name: 'symbol',
    match: /^(-&gt;|=&gt;|=|\+|::|-|\*|<|>|&&|&lt;=|\[|\]|!=|!|\.|null|\?\?|&lt;\?php|\?&gt;)/
}, {
    name: 'keyword',
    match: /^(function|return|switch|case|for|if|else|this|public|private|protected|use|class|extends|implements|namespace|new|throw)\b/
}, {
    name: 'boolean',
    match: [/^(true|false)/]
}, {
    name: 'number',
    match: [/^(\d+)/]
},
}

----------------------------------------------------------------------------------------------------------------------------------
window.addEventListener("load", () => {
    let sourceCode = document.getElementById("source");
    let patternName = "<?= strtolower($paste->syntax()->name);?>";
    let syntax = new SyntaxHighlither();
    console.log(syntax);
    syntax.setLanguage(patternName, pattern);
    syntax.highlight(sourceCode, patternName);
});
            </code>
        </pre>
    </blockquote>
        </p>
    </section>


    <section typeof="sa:ReferenceList" id="referinte" role="doc-bibliography">
        <h2><span>5. </span>Referinţe</h2>
        <ol>
            <li property="schema:citation" role="doc-biblioentry" typeof="schema:WebPage" id="Scholarly-html"
                resource="https://w3c.github.io/scholarly-html/">
                <cite property="schema:name">
                    <a href="https://w3c.github.io/scholarly-html/">Scholarly HTML</a>
                </cite>, by
                <span property="schema:author" typeof="schema:Person">
                            <span property="schema:givenName">Tzviya</span>
                            <span property="schema:aditionalName">Wiley</span>
                            <span property="schema:familiyName">Siegman</span>

                </span>&amp;
                <span property="schema:author" typeof="schema:Person">
                    <span property="schema:givenName">Robin</span>
                    <span property="schema:familiyName">Berjon</span>
                </span>
            </li>
            <li property="schema:citation" role="doc-biblioentry" typeof="schema:WebPage" id="busaco"
                resource="https://profs.info.uaic.ro/~busaco/teach/courses/web/web-film.html">
                 <span property="schema:author" typeof="schema:Person">
                        <span property="schema:givenName">Sabin</span>
                        <span property="schema:aditionalName">Corneliu</span>
                        <span property="schema:familiyName">Buraga</span>
                 </span>,
                <cite property="schema:name">
                    <a href="https://profs.info.uaic.ro/~busaco/teach/courses/web/web-film.html">
                        Site-ul disciplinei "Tehnologii Web"
                    </a> parte a
                    <span typeof="schema:Organization"
                          resource="https://www.uaic.ro" property="schema:isPartOf">
                            <a href="https://www.uaic.ro">
                             <span property="schema:name">UAIC</span>
                          </a>
                    </span>
                </cite>
            </li>
            <li class="ref-something" typeof="schema:ScholarlyArticle"
                resource="https://github.com/rick4470/IEEE-SRS-Tempate">
                <span property="schema:author" typeof="schema:Person">
                  <span property="schema:familyName">H</span>
                  <span property="schema:givenName">Rick</span>.
                </span>
                <cite property="schema:name">
                    <a href="https://github.com/rick4470/IEEE-SRS-Tempate">IEEE-Template.</a>
                </cite>
                <span property="schema:isPartOf" typeof="schema:Periodical">
                  <span property="schema:name">GitHub</span>
                </span>
            </li>
        </ol>
    </section>
</div>
</body>
</html>